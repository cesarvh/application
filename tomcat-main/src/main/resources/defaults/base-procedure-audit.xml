<record id="audit" in-findedit="yes" type="record,procedure" cms-type="default" generate-services-schema="true">
  <services-url>audit</services-url>
  <services-tenant-plural>Audit</services-tenant-plural>
  <services-tenant-singular>Audit</services-tenant-singular>
  
  <services-list-path>abstract-common-list/list-item</services-list-path>
  <services-record-path>audit_common:http://collectionspace.org/services/audit,audit_common</services-record-path>
  <services-record-path id="collectionspace_core">collectionspace_core:http://collectionspace.org/collectionspace_core/,collectionspace_core</services-record-path>
  <hassoftdelete>true</hassoftdelete>

  <structures>
    <structure id="search">
        <view>
            <label-section id="messagekeys" show="true"></label-section>
        </view>
    </structure>
    <structure id="screen">
        <view>
            <titlebar show="false"></titlebar>
            <sidebar show="false">
                <repeat id="termsUsed" show="true"></repeat>
                <repeat id="relatedProcedures" show="true"></repeat>
                <repeat id="relatedObjects" show="true"></repeat>
            </sidebar>
            <edit-section show="true"></edit-section>
            <list-section show="false"></list-section>
            <label-section id="messagekeys" show="true"></label-section>
        </view>
        <repeat id="termsUsed" asSibling="true">
            <selector>recordList-row:</selector>
            <field id="linktext" ui-type="linktext">
                <selector>related-number</selector>
            </field>
            <field id="recordtype" ui-type="list">
                <selector>related-recordtype</selector>
            </field>
            <field id="sourceFieldName" ui-type="list">
                <selector>related-field</selector>
            </field>
        </repeat>
    </structure>
    <structure id="tab">
        <view>
            <titlebar show="false"></titlebar>
            <sidebar show="false"></sidebar>
            <edit-section id="details" show="true"></edit-section>
            <list-section id="list" show="false"></list-section>
            <label-section id="messagekeys" show="true"></label-section>
        </view>
    </structure>
  </structures>
				
				<include src="domain-procedure-audit.xml" strip-root="yes"/>

  <section id="auditInfo">
    <field id="idNumber" ui-search="repeatable" in-title="yes" mini="number,search,list,relate" seperate_ui_container="true"/>
  </section>

  <section id="changeInfo">
    <field id="recordType" />
    <field id="recordId" />
    
    <repeat id="fieldChangedGroupList/fieldChangedGroup">
      <field id="fieldName" ui-search="repeatable"/>
      <field id="originalValue" ui-search="repeatable"/>
      <field id="newValue" ui-search="repeatable"/>
      <field id="changeReason" ui-search="repeatable"/>
    </repeat>

    <repeat id="relationshipGroupList/relationshipGroup">
      <field id="relPredicate" ui-search="repeatable"/>
      <field id="relObjRecordType" ui-search="repeatable"/>
      <field id="relObjectTitle" ui-search="repeatable"/>
      <field id="relChange" ui-search="repeatable"/>
    </repeat>

    <repeat id="relRecordChecksumList">
      <field id="relRecordChecksum" ui-search="repeatable"/>
    </repeat>

    <field id="saveMessage" />
    <field id="updatedBy" />
    <field id="updatedAt" />

    <field id="recordChecksum" />
  </section>

  


</record>
